<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Objects</title>
</head>
<body>
<p>Rock Paprer Scissors</p>
    <button onclick=" playGame('Rock');">
        Rock
    </button>
    <button onclick="playGame('Paper');">
        Paper
    </button>
    <button onclick="playGame('Scissors');">
        Scissors
    </button> 
    <button onclick="resetScore();">
        Reset Score
    </button>
    <script>
        
        const score = JSON.parse(localStorage.getItem('score')) || {
            wins: 0,
            losses: 0,
            ties: 0
        };

        function resetScore() {
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            alert('Score has been reset.');
        }
        
        function playGame(playerMove){

            const computerMove = pickComputerMove();
             let result = ''; // This should be set based on user input 
            if(playerMove === 'Scissors') {
               
                if(computerMove === 'Scissors') {
                    result='It\'s a tie';
                } else if (computerMove === 'Rock') {
                    result='You lose.';
                } else {
                    result='You wins.';
                }
            }else if(playerMove === 'Paper') {
               
                if(computerMove === 'Paper') {
                    result='It\'s a tie';
                } else if (computerMove === 'Scissors') {
                    result='You lose.';
                } else {
                    result='You wins.';
                }
            } else if(playerMove === 'Rock') {
               
                if(computerMove === 'Rock') {
                    result='It\'s a tie';
                } else if (computerMove === 'Paper') {
                    result='You lose.';
                } else {
                    result='You wins.';
                }
            }

            if(result === 'You wins.') {
                score.wins++;
            } else if(result === 'You lose.') {
                score.losses++;
            } else {
                score.ties++;
            }

            localStorage.setItem('score', JSON.stringify(score));

            alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}
            Score: Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`);
        }

        function pickComputerMove() {
            const randomNumber = Math.random();
            let computerMove = '';
            if(randomNumber>=0 && randomNumber < 0.33) {
                computerMove='Rock';
            } else if (randomNumber>=0.33 && randomNumber < 0.66) {
                computerMove='Paper';
            } else if(randomNumber>=0.66 && randomNumber < 1)  {
                computerMove='Scissors';
            }

            return computerMove;
        }

        var product ={
            name: 'iPhone',
            price: 999,
            description: 'A smartphone by Apple',

            rating:{
                rate: 4.5,
                count: 1200
            },

            fun: function function1() {
                console.log('This is a function inside an object');
            }
        }

        console.log(product);
        console.log(product.name);  
        console.log(product.price);
        console.log(product.description);
        console.log(product.rating.rate);

        product.fun();

        console.log(typeof product);

        //build-in objects - JSON and localStorage
        //convert object to JSON for transfer of data to other systems
        console.log(JSON.stringify(product));

        //convert JSON to javascript object
        var jsonString = JSON.stringify(product);

        console.log(JSON.parse(jsonString));

        //localStorage - store data in browser
        localStorage.setItem('message', 'Hello World');
        console.log(localStorage.getItem('message'));

        //auto-boxing
        console.log('hello'.toUpperCase());
        console.log('hello'.length);

        //object reference
        const object1 = {value: 10};
        const object2 = object1;

        object1.value = 15;
        console.log(object2.value);
        console.log(object1.value);

        const object3 = {value: 10};

        console.log(object1 === object2);
        console.log(object1 === object3);

        //destructuring
         const object4 = {value: 13, name: 'Jatin'};

        //below two lines are same
        //const value = object1.value;
        const {value, name} = object4;
        console.log(value);
        console.log(name);

        //short-hand property names
        const object5 = {
            //name: name
            //value: value
            name,
            value,
            //shorthand method name
           // method: function function3() {
             //   console.log('This is method 3');
            //}

            method(){
                console.log('This is method 3');
            }
        };

        console.log(object5);
        object5.method();


    </script>
    
</body>
</html>